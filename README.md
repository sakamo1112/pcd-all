# ğŸŒˆ pcd_all ğŸŒˆ
ç‚¹ç¾¤ã‚’æ‰±ã†å‡¦ç†ã§ã‚ã‚Œã°ä½•ã§ã‚‚ä¸Šã’ã‚‹ãƒªãƒã‚¸ãƒˆãƒªã§ã™.
<br><br>


## Overview ğŸ›¼
- [x] ç‚¹ç¾¤ã‚’ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹å‡¦ç†
- [ ] ç‚¹ç¾¤Viewer
- [x] ç‚¹ç¾¤ã®voxelåŒ–å‡¦ç†
- [x] [Mask3D](https://github.com/cvg/Mask3D)å®Ÿè¡Œçµæœã‚’ç‚¹ç¾¤ã«æŠ•å½±ã™ã‚‹å‡¦ç†
<br><br><br>

### ğŸ¨ ç‚¹ç¾¤ã®ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°å‡¦ç†
---
#### å®Ÿè£…æ¸ˆã¿ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
- k-meansæ³•
- mean-shift
- DBSCAN
- HDBSCAN
<br><br>

#### å®Ÿè¡Œ
ä»¥ä¸‹ã®ã‚ˆã†ã«å„é–¢æ•°ã‚’å‘¼ã³å‡ºã—ã¦å®Ÿè¡Œã—ã¾ã™.<br>
clustering.pyã®mainæ–‡ã®ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã‚’è§£é™¤ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã‚‚åˆ©ç”¨å¯èƒ½ã§ã™.<br>
ç‚¹ç¾¤ãƒ‡ãƒ¼ã‚¿ã¯.pcdå½¢å¼ã§ã™.
```
from pcd_algorithm.clustering import Clustering
...

# k-meansæ³•ã‚’ä½¿ã†å ´åˆ
clustered_pcds = Clustering().k_means(pcd, <ã‚¯ãƒ©ã‚¹ã‚¿æ•°(int)>)

# mean-shiftã‚’ä½¿ã†å ´åˆ
clustered_pcds = Clustering().mean_shift(pcd, <ãƒãƒ³ãƒ‰å¹…ã®æ¨å®šã«ä½¿ç”¨ã™ã‚‹åˆ†ä½æ•°(float)>, <ãƒãƒ³ãƒ‰å¹…ã®æ¨å®šã«ä½¿ç”¨ã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«æ•°(int)>)

# DBSCANã‚’ä½¿ã†å ´åˆ
clustered_pcds = Clustering().dbscan(pcd, eps, min_points)

# HDBSCANã‚’ä½¿ã†å ´åˆ
clustered_pcds = Clustering().hdbscan(pcd, <ã‚¯ãƒ©ã‚¹ã‚¿ã‚’æ§‹æˆã™ã‚‹ãŸã‚ã®æœ€å°ç‚¹æ•°(int)>)
```
<br><br>


### ğŸ­ Mask3Dã®çµæœæç”»å‡¦ç†
---
#### å®Ÿè¡Œ
```
poetry run python pcd_algorithm/Mask3D_mask.py 
--pcd_path <çµæœã‚’åæ˜ ã•ã›ãŸã„ç‚¹ç¾¤ãƒ‡ãƒ¼ã‚¿(.ply)ã®ãƒ‘ã‚¹> 
--Prefix <Mask3Dã§å¾—ã‚‰ã‚ŒãŸçµæœã‚’ã¾ã¨ã‚ãŸãƒ•ã‚¡ã‚¤ãƒ«ã®æ ¼ç´å ´æ‰€(ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ‘ã‚¹)> 
--result_file_name <ã€Œå„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã¤ã„ã¦ã®æ¤œå‡ºçµæœã‚’æ ¼ç´ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã®åå‰ã€ãŒã¾ã¨ã‚ã‚‰ã‚ŒãŸtxtãƒ•ã‚¡ã‚¤ãƒ«ã®åå‰(ãƒ‘ã‚¹ã§ã¯ãªã„)>
```
ï¼ˆä¾‹ï¼‰å„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã¤ã„ã¦ã®æ¤œå‡ºçµæœã‚’æ ¼ç´ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã®åå‰ã€ã®ä¸­èº«
```
pred_mask/20231108_120945_room_0.txt 5 0.9574468731880188
pred_mask/20231108_120945_room_1.txt 16 0.9569514989852905
pred_mask/20231108_120945_room_2.txt 14 0.9293325543403625
pred_mask/20231108_120945_room_3.txt 8 0.9196611642837524
pred_mask/20231108_120945_room_4.txt 10 0.9063308835029602
```
<br>

#### å®Ÿè¡Œçµæœ
|å¤§å­¦ç”Ÿã®éƒ¨å±‹ã®ç‚¹ç¾¤|Mask3DğŸ­é©ç”¨çµæœ|
|---|---|
|![å¤§å­¦ç”Ÿã®éƒ¨å±‹ã®ç‚¹ç¾¤](https://github.com/sakamo1112/pcd-all/assets/125291665/6363f1ce-6ec1-4607-8771-d17f7535bbb7)|![Mask3Dé©ç”¨çµæœ](https://github.com/sakamo1112/pcd-all/assets/125291665/0f43c9bb-1cf3-4ac2-b4b6-5b018eb951f4)|

